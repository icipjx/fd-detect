/* Global styles extracted from the HTML demo */
:root{
  --bg:#0b1220;
  --card:#0f1a2e;
  --card2:#101f3a;
  --text:#e8eefc;
  --muted:#a8b3cf;
  --border:#1f2c49;
  --primary:#7aa2ff;
  --primary2:#5a7bff;
  --good:#3ddc97;
  --warn:#ffcc66;
  --bad:#ff6b6b;
  --shadow: 0 12px 40px rgba(0,0,0,.35);
  --radius: 18px;
  --radius2: 14px;
}
[data-theme="light"]{
  --bg:#f5f7fb;
  --card:#ffffff;
  --card2:#f1f4fb;
  --text:#0f172a;
  --muted:#5b6479;
  --border:#d9deed;
  --primary:#3a66f5;
  --primary2:#2c54e6;
  --good:#0f9d58;
  --warn:#d89112;
  --bad:#e24949;
  --shadow: 0 20px 36px rgba(26,58,125,.14);
}
*{box-sizing:border-box}
html, body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "PingFang SC","Noto Sans CJK SC","Microsoft Yahei", sans-serif;
  background: radial-gradient(1200px 800px at 10% 10%, #14244a 0%, transparent 60%),
              radial-gradient(900px 600px at 80% 0%, #1a2c63 0%, transparent 55%),
              radial-gradient(900px 700px at 60% 90%, #10203e 0%, transparent 60%),
              var(--bg);
  color: var(--text);
}

/* ===============================
   Light Theme – Refined (Enterprise / Finance)
   Only affects [data-theme="light"]
   =============================== */

[data-theme="light"]{
  --bg:#f4f6f9;
  --card:#ffffff;
  --card2:#f7f8fb;
  --text:#1f2937;
  --muted:#6b7280;
  --border:#e5e7eb;
  --primary:#355df6;
  --primary2:#2f4fd8;
  --good:#1f9d6a;
  --warn:#c47a14;
  --bad:#c63636;
  --shadow: 0 10px 30px rgba(31,41,55,.12);
  --radius: 18px;
  --radius2: 14px;
}

[data-theme="light"] body{
  background: linear-gradient(180deg, #f4f6f9 0%, #eef1f6 100%);
  color: var(--text);
}

[data-theme="light"] .card{
  background: #ffffff;
  border-color: var(--border);
  box-shadow: var(--shadow);
}

[data-theme="light"] .badge{
  background:#f3f4f6;
  border:1px solid #e5e7eb;
  color:#374151;
}

[data-theme="light"] .badge.good{
  background:#e8f6f0;
  border-color:#a7e3c9;
  color:#166534;
}

[data-theme="light"] .badge.warn{
  background:#fff4e5;
  border-color:#f4d29c;
  color:#92400e;
}

[data-theme="light"] .badge.bad{
  background:#fdecec;
  border-color:#f5b5b5;
  color:#7f1d1d;
}
[data-theme="light"] .card,
[data-theme="light"] .sampleStrip,
[data-theme="light"] .hisCard,
[data-theme="light"] .panel,
[data-theme="light"] .block,
[data-theme="light"] .section {
  background: #ffffff !important;
  border-color: #e5e7eb !important;
  box-shadow: 0 10px 28px rgba(31,41,55,.12) !important;
}
[data-theme="light"] .sampleStrip{
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
}

[data-theme="light"] .sampleCard{
  background: #ffffff !important;
}


a{color:inherit}
.wrap{max-width:1160px;margin:0 auto;padding:28px 18px 60px;}
.topbar{
  display:flex;align-items:center;justify-content:space-between;gap:14px;
  padding:12px 14px;border:1px solid var(--border);border-radius:999px;background:rgba(16,31,58,.55);
  box-shadow: var(--shadow);
  position:sticky;top:12px;backdrop-filter: blur(10px); z-index:10;
}
.brand{display:flex;align-items:center;gap:12px}
.logo{
  width:38px;height:38px;border-radius:12px;
  background: linear-gradient(145deg, rgba(122,162,255,.35), rgba(90,123,255,.05));
  border:1px solid rgba(122,162,255,.35);
  display:grid;place-items:center;
}
.logo svg{opacity:.9}
.brand h1{font-size:14px;line-height:1;margin:0;padding-bottom: 5px;}
.brand p{font-size:12px;margin:0;color:var(--muted)}
.actions{display:flex;gap:10px;align-items:center}
.chip{
  font-size:12px;color:var(--muted);
  padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:rgba(16,31,58,.45)
}
.btn{
  cursor:pointer;border:none;
  padding:10px 14px;border-radius:999px;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color:#071024;font-weight:700;font-size:13px;
  box-shadow: 0 10px 26px rgba(90,123,255,.25);
  transition: transform .12s ease, filter .12s ease, opacity .12s ease;
  display:flex;gap:8px;align-items:center;
}
.btn:hover{transform: translateY(-1px);filter:saturate(1.05)}
.btn:active{transform: translateY(0px)}
.btn.secondary{
  background: rgba(16,31,58,.6);
  color: var(--text);
  border:1px solid var(--border);
  box-shadow:none;
  font-weight:600;
}
.btn.danger{
  background: rgba(255,107,107,.12);
  border:1px solid rgba(255,107,107,.35);
  color:#ffd1d1;
  box-shadow:none;
}
.btn[disabled]{opacity:.55;cursor:not-allowed;transform:none !important}
.grid{
  display:grid;grid-template-columns: 1.2fr .8fr;gap:16px;margin-top:18px;
}
@media (max-width: 980px){
  .grid{grid-template-columns: 1fr; }
  .topbar{position:relative;top:0}
}
.card{
  border:1px solid var(--border);
  border-radius: var(--radius);
  background: rgba(15,26,46,.72);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card .hd{
  padding:16px 16px 12px;
  display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
  border-bottom:1px solid rgba(31,44,73,.7);
  background: linear-gradient(180deg, rgba(16,31,58,.75), rgba(16,31,58,.25));
}
.title{
  margin:0;font-size:14px;letter-spacing:.2px
}
.sub{margin:6px 0 0;color:var(--muted);font-size:12px;line-height:1.5}
.bd{padding:16px}
.upload{
  border:1.5px dashed rgba(122,162,255,.35);
  border-radius: var(--radius);
  padding:18px;
  background: rgba(16,31,58,.55);
  display:flex;gap:14px;align-items:center;
  transition: border-color .12s ease, background .12s ease;
}
.upload.drag{border-color: rgba(122,162,255,.85); background: rgba(122,162,255,.06)}
.upload .icon{
  width:44px;height:44px;border-radius:14px;
  display:grid;place-items:center;
  background: rgba(122,162,255,.12);
  border:1px solid rgba(122,162,255,.25);
  flex: 0 0 auto;
}
.upload .meta{flex:1 1 auto}
.upload .meta b{display:block;font-size:13px}
.upload .meta span{display:block;color:var(--muted);font-size:12px;margin-top:5px;line-height:1.5}
.upload input{display:none}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
.actionRow{flex-wrap:nowrap;align-items:center;}
.actionRow .btn{flex-shrink:0;}
.actionHint{flex:1 1 auto;min-width:0;}
.hint{
  font-size:12px;color:var(--muted);line-height:1.55;
  border:1px solid rgba(31,44,73,.75);
  border-radius: 14px;
  padding:10px 12px;
  background: rgba(16,31,58,.35);
}
.hintEllipsis{
  overflow:hidden;
}
.hintEllipsis .pill-text{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  display:block;
}
.pill{
  font-size:12px;padding:7px 10px;border-radius:999px;
  border:1px solid rgba(31,44,73,.9);
  background: rgba(16,31,58,.5);
  color: var(--muted);
  display:flex;gap:8px;align-items:center;
  white-space: nowrap;
  flex:1 1 0;
  min-width:0;
}
.pill-text{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  display:block;
  max-width: 100%;
}
.pillRow{
  flex-wrap: nowrap;
  overflow: hidden;
}
.viewer{
  border:1px solid rgba(31,44,73,.85);
  border-radius: var(--radius);
  background: rgba(8,14,26,.35);
  overflow:hidden;
}
.viewerTop{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:10px 12px;border-bottom:1px solid rgba(31,44,73,.75);
  background: rgba(16,31,58,.35);
}
.tabs{display:flex;gap:6px;align-items:center}
.tab{
  border:1px solid rgba(31,44,73,.85);
  background: rgba(16,31,58,.35);
  color: var(--muted);
  font-size:12px;
  padding:7px 10px;border-radius:999px;cursor:pointer;
}
.tab.active{
  border-color: rgba(122,162,255,.5);
  color: var(--text);
  background: rgba(122,162,255,.10);
}
.canvasWrap{position:relative;aspect-ratio: 16/10;max-height:520px;}
.canvasWrap img{
  position:absolute;inset:0;
  width:100%;height:100%;object-fit:contain;
  background: rgba(0,0,0,.18);
}
.canvasWrap img.overlay{mix-blend-mode: screen; opacity:.75; display:none}
.canvasWrap.showOverlay img.overlay{display:block}
.status{
  display:flex;align-items:center;gap:10px;flex-wrap:wrap;
  padding:10px 12px;border-top:1px solid rgba(31,44,73,.75);
  background: rgba(16,31,58,.22);
  color: var(--muted);font-size:12px;
}
.progress{
  flex:1 1 auto;height:10px;border-radius:999px;
  border:1px solid rgba(31,44,73,.85);
  background: rgba(16,31,58,.35);
  overflow:hidden;min-width:180px;
}
.progress > i{
  display:block;height:100%;width:0%;
  background: linear-gradient(90deg, rgba(122,162,255,.2), rgba(122,162,255,.85));
  border-radius:999px;
  transition: width .2s ease;
}
/* ✅ KPI 三块简化成“纯数值卡” */
.kpi{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:12px;
}
@media (max-width: 520px){
  .kpi{ grid-template-columns: 1fr; }
}

.kpi .box{
  border:1px solid rgba(31,44,73,.85);
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(16,31,58,.40), rgba(16,31,58,.18));
  padding:14px 16px 16px;
  text-align:center;
  overflow:hidden;
}

.kpi .box small{
  display:block;
  color: var(--muted);
  font-size:12px;
  letter-spacing:.4px;
}

.kpiValue{
  display:block;
  margin-top:10px;
  font-size:28px;
  font-weight:900;
  letter-spacing:.6px;
  line-height:1.1;
  color: #cfe0ff;
}

/* 百分比统一亮色 */
.kpiPercent{
  text-shadow: 0 0 18px rgba(122,162,255,.22);
}

/* 风险等级颜色 */
.kpiGood{ color: var(--good); text-shadow: 0 0 18px rgba(61,220,151,.16); }
.kpiWarn{ color: var(--warn); text-shadow: 0 0 18px rgba(255,204,102,.16); }
.kpiBad{  color: var(--bad);  text-shadow: 0 0 18px rgba(255,107,107,.16); }


.badge{
  display:inline-flex;align-items:center;gap:8px;
  font-size:12px;
  padding:6px 10px;border-radius:999px;
  border:1px solid rgba(31,44,73,.9);
  background: rgba(16,31,58,.35);
  color: var(--muted);
  white-space:nowrap;
}
.badge.good{border-color: rgba(61,220,151,.35); background: rgba(61,220,151,.10); color:#bdf7df}
.badge.warn{border-color: rgba(255,204,102,.35); background: rgba(255,204,102,.10); color:#ffe8b8}
.badge.bad{border-color: rgba(255,107,107,.35); background: rgba(255,107,107,.10); color:#ffd1d1}
.list{
  margin-top:12px;
  border:1px solid rgba(31,44,73,.85);
  border-radius: 16px;
  overflow:hidden;
}
.list .item{
  padding:12px 12px;border-top:1px solid rgba(31,44,73,.7);
  display:flex;gap:10px;align-items:flex-start;justify-content:space-between;
  background: rgba(16,31,58,.22);
}
.list .item:first-child{border-top:none}
.list .item .left{display:flex;gap:10px;align-items:flex-start}
.dot{
  width:10px;height:10px;border-radius:999px;margin-top:4px;flex:0 0 auto;
  background: rgba(122,162,255,.5);
}
.dot.good{background: rgba(61,220,151,.85)}
.dot.warn{background: rgba(255,204,102,.85)}
.dot.bad{background: rgba(255,107,107,.9)}
.list .item b{display:block;font-size:13px}
.list .item span{display:block;font-size:12px;color:var(--muted);margin-top:4px;line-height:1.5}
.list .item code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size:11px;color:#cfe0ff;
  background: rgba(122,162,255,.10);
  border:1px solid rgba(122,162,255,.20);
  padding:3px 6px;border-radius: 8px;
}
.history{
  display:flex;flex-direction:column;gap:10px;
}
.hItem{
  border:1px solid rgba(31,44,73,.85);
  border-radius: 16px;background: rgba(16,31,58,.22);
  padding:10px;display:flex;gap:10px;align-items:center;justify-content:space-between;
}
.hItem img{width:46px;height:46px;border-radius:12px;object-fit:cover;border:1px solid rgba(31,44,73,.85)}
.hItem .meta{flex:1 1 auto}
.hItem .meta b{font-size:12px;display:block}
.hItem .meta span{font-size:12px;color:var(--muted);display:block;margin-top:4px}
.footerNote{
  margin-top:14px;color:var(--muted);font-size:12px;line-height:1.6;
  padding:12px;border:1px solid rgba(31,44,73,.7);border-radius: 16px;background: rgba(16,31,58,.22);
}
.toast{
  position:fixed;right:16px;bottom:16px;
  max-width:420px;
  border:1px solid rgba(31,44,73,.85);
  background: rgba(15,26,46,.85);
  border-radius: 16px;
  padding:12px 12px;
  box-shadow: var(--shadow);
  display:none;
}
.toast.show{display:block}
.toast b{display:block;font-size:13px}
.toast span{display:block;font-size:12px;color:var(--muted);margin-top:6px;line-height:1.5}

/* ===== Preview Dropzone (like TextIn/Baidu) ===== */
.dropPreview{
  cursor: pointer;
  outline: none;
}
.dropPreview.empty{
  background: rgba(255,255,255,.03);
}
.dropPreview.drag{
  border-color: rgba(122,162,255,.95) !important;
  background: rgba(122,162,255,.08) !important;
}
.dropHint{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
  padding:18px;
  text-align:center;
}
.dropIcon{
  width:74px;
  height:74px;
  border-radius: 18px;
  display:grid;
  place-items:center;
  background: rgba(122,162,255,.10);
  border: 1px solid rgba(122,162,255,.25);
  box-shadow: 0 14px 40px rgba(0,0,0,.25);
}
.dropTitle{
  font-size:16px;
  font-weight:800;
  letter-spacing:.2px;
  color: var(--text);
}
.dropSub{
  font-size:13px;
  color: var(--muted);
  line-height:1.6;
  max-width: 520px;
}

/* ===== Sample Strip (examples + my files) ===== */
.sampleStrip{
  border:1.5px dashed rgba(122,162,255,.30);
  border-radius: var(--radius);
  padding:14px 14px 12px;
  background: rgba(16,31,58,.45);
}
.sampleStripHd{
  display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
  margin-bottom:10px;
}
.sampleStripTitle b{display:block;font-size:13px;letter-spacing:.2px}
.sampleStripTitle span{display:block;color:var(--muted);font-size:12px;line-height:1.5;margin-top:4px}
.sampleStripList{
  display:flex;gap:10px;overflow:auto;padding-bottom:6px;
  scroll-snap-type:x mandatory;
}
.sampleStripList::-webkit-scrollbar{height:8px}
.sampleStripList::-webkit-scrollbar-thumb{
  background: rgba(122,162,255,.18);
  border:1px solid rgba(31,44,73,.8);
  border-radius:999px;
}
.sampleCard{
  scroll-snap-align:start;
  cursor:pointer;
  min-width: 152px;
  border:1px solid rgba(31,44,73,.90);
  border-radius: 16px;
  background: rgba(8,14,26,.28);
  padding:10px;
  display:flex;
  gap:10px;
  align-items:center;
  position:relative;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
}
.sampleCard:hover{transform: translateY(-1px); border-color: rgba(122,162,255,.38); background: rgba(122,162,255,.06)}
.sampleCard.active{border-color: rgba(122,162,255,.55); background: rgba(122,162,255,.10)}
.sampleCard img{
  width:52px;height:52px;border-radius:14px;object-fit:cover;
  border:1px solid rgba(31,44,73,.85);
  background: rgba(0,0,0,.18);
  flex: 0 0 auto;
}
.sampleCardMeta{flex:1 1 auto; min-width: 0}
.sampleCardMeta b{display:block;font-size:12px}
.sampleCardMeta span{display:block;font-size:12px;color:var(--muted);margin-top:4px;line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sampleTag{
  position:absolute;right:10px;top:10px;
  font-size:11px;
  padding:4px 8px;border-radius:999px;
  border:1px solid rgba(31,44,73,.9);
  background: rgba(16,31,58,.35);
  color: var(--muted);
}
.sampleTag.good{border-color: rgba(61,220,151,.35); background: rgba(61,220,151,.10); color:#bdf7df}
.sampleTag.warn{border-color: rgba(255,204,102,.35); background: rgba(255,204,102,.10); color:#ffe8b8}
.sampleTag.bad{border-color: rgba(255,107,107,.35); background: rgba(255,107,107,.10); color:#ffd1d1}

.hiddenFileInput{display:none !important}


/* ===== Sample cards v2: image + bottom info bar + corner risk tag (override) ===== */
.sampleCard{
  display:block;
  padding:10px;
  min-width: 170px;
  background: rgba(16,31,58,.25);
}
.sampleCard img{ /* reset old small avatar style */
  width:100%;
  height:100%;
  border-radius: 0;
  border:none;
  background: transparent;
}
.sampleThumb{
  position: relative;
  border-radius: 14px;
  overflow: hidden;
  background: rgba(0,0,0,.18);
  aspect-ratio: 16/10;
}
.sampleThumb img{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
}
.sampleTag{ display:none; } /* legacy tag hidden to prevent overlap */
.sampleTagCorner{
  position:absolute;
  top:10px;
  right:10px;
  font-size: 11px;
  font-weight: 800;
  padding: 5px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.45);
  color: #fff;
  letter-spacing: .3px;
  backdrop-filter: blur(6px);
}
.sampleTagCorner.good{ border-color: rgba(61,220,151,.40); background: rgba(61,220,151,.18); }
.sampleTagCorner.warn{ border-color: rgba(255,204,102,.40); background: rgba(255,204,102,.18); }
.sampleTagCorner.bad{  border-color: rgba(255,107,107,.40); background: rgba(255,107,107,.18); }

.sampleInfoBar{
  position:absolute;
  left:0; right:0; bottom:0;
  padding: 10px 10px 9px;
  background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.72) 55%, rgba(0,0,0,.82) 100%);
}
.sampleTitleLine{
  font-size: 13px;
  font-weight: 800;
  color: rgba(255,255,255,.95);
  line-height: 1.25;
  text-shadow: 0 2px 10px rgba(0,0,0,.45);
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.sampleSubLine{
  margin-top: 4px;
  font-size: 12px;
  color: rgba(255,255,255,.75);
  line-height: 1.25;
  text-shadow: 0 2px 10px rgba(0,0,0,.40);
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.sampleTagCorner{
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .6px;
  padding: 6px 10px;
  border-radius: 999px;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
  box-shadow:
    0 2px 10px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.18);
  backdrop-filter: none; /* 去掉毛玻璃，提升实感 */
}

/* LOW：清晰但克制 */
.sampleTagCorner.good{
  background: linear-gradient(
    135deg,
    #1e8f5a 0%,
    #27c07d 100%
  );
  border: 1px solid rgba(61,220,151,.85);
  box-shadow:
    0 2px 12px rgba(61,220,151,.35),
    inset 0 1px 0 rgba(255,255,255,.22);
}

/* MID：明显警示 */
.sampleTagCorner.warn{
  background: linear-gradient(
    135deg,
    #c47a14 0%,
    #ffb648 100%
  );
  border: 1px solid rgba(255,190,90,.95);
  box-shadow:
    0 2px 14px rgba(255,190,90,.45),
    inset 0 1px 0 rgba(255,255,255,.25);
}

/* HIGH：强风险感（但不刺眼） */
.sampleTagCorner.bad{
  background: linear-gradient(
    135deg,
    #a62a2a 0%,
    #ff5a5a 100%
  );
  border: 1px solid rgba(255,90,90,.95);
  box-shadow:
    0 2px 16px rgba(255,90,90,.55),
    inset 0 1px 0 rgba(255,255,255,.25);
}


/* ===== History cards (scroll + paging) ===== */
.historyCards{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
  max-height: 420px;
  overflow: auto;
  padding-right: 6px;
}
.historyCards::-webkit-scrollbar{ width: 8px; }
.historyCards::-webkit-scrollbar-thumb{
  background: rgba(122,162,255,.18);
  border:1px solid rgba(31,44,73,.8);
  border-radius:999px;
}
.hisCard{
  border:1px solid rgba(31,44,73,.85);
  border-radius: 16px;
  background: rgba(16,31,58,.22);
  padding:10px;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  cursor:pointer;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
}
.hisCard:hover{
  transform: translateY(-1px);
  border-color: rgba(122,162,255,.55);
  background: rgba(122,162,255,.06);
}
.hisCard img{
  width:54px;
  height:54px;
  border-radius: 14px;
  object-fit: cover;
  border:1px solid rgba(31,44,73,.85);
  background: rgba(0,0,0,.18);
}
.hisMain{ flex:1 1 auto; min-width:0; }
.hisTop{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.hisName{
  font-size:12px;
  display:block;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  max-width: 260px;
}
.hisSub{
  margin-top:6px;
  font-size:12px;
  color: var(--muted);
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  line-height:1.4;
}
.hisSub .sep{ opacity:.55; }
.hisSub .conclusion{ color: rgba(255,255,255,.75); }
.hisBtn{ padding:8px 10px; flex: 0 0 auto; }
.hisLoading,.hisEnd{
  text-align:center;
  color: var(--muted);
  font-size:12px;
  padding: 6px 0;
}



/* =========================================================
   Light Theme Patch v2 (fix "grey/foggy" look)
   Goal: override DARK hard-coded rgba(...) blocks in light mode
   Append-only: does NOT delete existing CSS
   ========================================================= */

/* 1) Remove dark radial layers in light mode */
[data-theme="light"] body{
  background:
    radial-gradient(1200px 800px at 10% 10%, rgba(255,255,255,.9) 0%, transparent 60%),
    radial-gradient(900px 600px at 80% 0%, rgba(255,255,255,.7) 0%, transparent 55%),
    radial-gradient(900px 700px at 60% 90%, rgba(255,255,255,.75) 0%, transparent 60%),
    linear-gradient(180deg, #f4f6f9 0%, #eef1f6 100%) !important;
}

/* 2) Topbar / chips */
[data-theme="light"] .topbar{
  background: rgba(255,255,255,.82) !important;
  border-color: #e5e7eb !important;
  box-shadow: 0 12px 34px rgba(31,41,55,.10) !important;
  backdrop-filter: blur(10px);
}
[data-theme="light"] .chip{
  background: #f3f4f6 !important;
  border-color: #e5e7eb !important;
  color: #6b7280 !important;
}

/* 3) Buttons */
[data-theme="light"] .btn{
  color:#ffffff !important;
  box-shadow: 0 10px 26px rgba(53,93,246,.20) !important;
}
[data-theme="light"] .btn.secondary{
  background:#ffffff !important;
  border:1px solid #e5e7eb !important;
  color:#1f2937 !important;
}
[data-theme="light"] .btn.danger{
  background:#fff1f2 !important;
  border:1px solid #fecdd3 !important;
  color:#9f1239 !important;
}

/* 4) Card header + common inner blocks that were dark */
[data-theme="light"] .card{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
  box-shadow: 0 10px 28px rgba(31,41,55,.12) !important;
}
[data-theme="light"] .card .hd{
  background: linear-gradient(180deg, #ffffff 0%, #f7f8fb 100%) !important;
  border-bottom:1px solid #e5e7eb !important;
}
[data-theme="light"] .sub{ color: #6b7280 !important; }

/* 5) Upload strip */
[data-theme="light"] .upload{
  background:#ffffff !important;
  border-color:#c7d2fe !important;
}
[data-theme="light"] .upload .icon{
  background: rgba(53,93,246,.08) !important;
  border-color: rgba(53,93,246,.18) !important;
}
[data-theme="light"] .upload.drag{
  background: rgba(53,93,246,.06) !important;
  border-color: rgba(53,93,246,.45) !important;
}

/* 6) Hint / pill */
[data-theme="light"] .hint{
  background:#f8fafc !important;
  border-color:#e5e7eb !important;
  color:#6b7280 !important;
}
[data-theme="light"] .pill{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
  color:#6b7280 !important;
}

/* 7) Viewer / tabs / canvas */
[data-theme="light"] .viewer{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
}
[data-theme="light"] .viewerTop{
  background:#f7f8fb !important;
  border-bottom:1px solid #e5e7eb !important;
}
[data-theme="light"] .tab{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
  color:#6b7280 !important;
}
[data-theme="light"] .tab.active{
  background: rgba(53,93,246,.10) !important;
  border-color: rgba(53,93,246,.35) !important;
  color:#1f2937 !important;
}
[data-theme="light"] .canvasWrap img{
  background:#f3f4f6 !important;
}
[data-theme="light"] .canvasWrap img.overlay{
  mix-blend-mode: multiply; /* better for light background */
  opacity:.75;
}

/* 8) Status + progress */
[data-theme="light"] .status{
  background:#f7f8fb !important;
  border-top:1px solid #e5e7eb !important;
  color:#6b7280 !important;
}
[data-theme="light"] .progress{
  background:#eef2ff !important;
  border-color:#e5e7eb !important;
}
[data-theme="light"] .progress > i{
  background: linear-gradient(90deg, rgba(53,93,246,.18), rgba(53,93,246,.85)) !important;
}

/* 9) KPI boxes */
[data-theme="light"] .kpi .box{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
  box-shadow: 0 8px 24px rgba(31,41,55,.10) !important;
}
[data-theme="light"] .kpiValue{
  color:#111827 !important;
  text-shadow:none !important;
}
[data-theme="light"] .kpiPercent{
  text-shadow: 0 0 14px rgba(53,93,246,.18) !important;
}
[data-theme="light"] .kpiGood{ color: #166534 !important; text-shadow: 0 0 14px rgba(31,157,106,.14) !important; }
[data-theme="light"] .kpiWarn{ color: #92400e !important; text-shadow: 0 0 14px rgba(196,122,20,.14) !important; }
[data-theme="light"] .kpiBad{  color: #7f1d1d !important; text-shadow: 0 0 14px rgba(198,54,54,.14) !important; }

/* 10) Lists (reasons/rules) */
[data-theme="light"] .list{
  border-color:#e5e7eb !important;
}
[data-theme="light"] .list .item{
  background:#ffffff !important;
  border-top:1px solid #e5e7eb !important;
}
[data-theme="light"] .dot{ background: rgba(53,93,246,.40) !important; }
[data-theme="light"] .dot.good{ background: rgba(31,157,106,.85) !important; }
[data-theme="light"] .dot.warn{ background: rgba(196,122,20,.85) !important; }
[data-theme="light"] .dot.bad{  background: rgba(198,54,54,.85) !important; }
[data-theme="light"] .list .item code{
  color:#1f2937 !important;
  background:#eef2ff !important;
  border-color:#c7d2fe !important;
}

/* 11) Sample strip/cards */
[data-theme="light"] .sampleStrip{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
}
[data-theme="light"] .sampleCard{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
}
[data-theme="light"] .sampleStripList::-webkit-scrollbar-thumb{
  background: rgba(17,24,39,.18) !important;
  border-color:#e5e7eb !important;
}
[data-theme="light"] .sampleThumb{
  background:#f3f4f6 !important;
}

/* 12) History cards */
[data-theme="light"] .hisCard{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
  box-shadow: 0 8px 24px rgba(31,41,55,.10) !important;
}
[data-theme="light"] .hisSub .conclusion{ color:#4b5563 !important; }
[data-theme="light"] .hisCard img{
  border-color:#e5e7eb !important;
  background:#f3f4f6 !important;
}

/* 13) Toast */
[data-theme="light"] .toast{
  background:#ffffff !important;
  border-color:#e5e7eb !important;
  box-shadow: 0 12px 30px rgba(31,41,55,.14) !important;
}
[data-theme="light"] .toast span{ color:#6b7280 !important; }


/* =========================================================
   Light Theme Polish v3 (closer to Dark quality)
   Goals:
   - reduce "flat/grey" feeling
   - add subtle premium depth via soft tint + refined shadows
   - simplify borders (less boxy), improve typography contrast
   ========================================================= */

/* Global rhythm + smoother type */
[data-theme="light"]{
  --bg:#f6f8fc;                 /* slightly cleaner */
  --card:#ffffff;
  --border:#e6eaf2;             /* cooler, softer */
  --text:#111827;               /* a bit stronger */
  --muted:#6b7280;
  --shadow: 0 14px 40px rgba(17,24,39,.10);
}

/* Page background: add very subtle blue tint accents (premium) */
[data-theme="light"] body{
  background:
    radial-gradient(900px 650px at 12% 6%, rgba(53,93,246,.10) 0%, transparent 60%),
    radial-gradient(800px 520px at 86% 0%, rgba(16,185,129,.08) 0%, transparent 55%),
    radial-gradient(900px 700px at 58% 92%, rgba(236,72,153,.06) 0%, transparent 60%),
    linear-gradient(180deg, #f6f8fc 0%, #eef2f7 100%) !important;
}

/* Topbar: glassy + lighter, closer to modern SaaS */
[data-theme="light"] .topbar{
  background: rgba(255,255,255,.70) !important;
  border: 1px solid rgba(230,234,242,.85) !important;
  box-shadow: 0 16px 46px rgba(17,24,39,.10) !important;
  backdrop-filter: blur(14px);
}
[data-theme="light"] .topbar .sub{
  color: rgba(107,114,128,.92) !important;
}

/* Chips: less border, more pill feel */
[data-theme="light"] .chip{
  background: rgba(17,24,39,.03) !important;
  border: 1px solid rgba(230,234,242,.9) !important;
  color: rgba(75,85,99,.95) !important;
}

/* Cards: soften border and add gentle hover lift */
[data-theme="light"] .card{
  border: 1px solid rgba(230,234,242,.95) !important;
  box-shadow: 0 14px 40px rgba(17,24,39,.10) !important;
}
[data-theme="light"] .card:hover{
  box-shadow: 0 18px 54px rgba(17,24,39,.14) !important;
}

/* Card header: make it cleaner (avoid heavy grey bar) */
[data-theme="light"] .card .hd{
  background: linear-gradient(180deg, #ffffff 0%, #fbfcff 100%) !important;
  border-bottom: 1px solid rgba(230,234,242,.9) !important;
}

/* Buttons: more premium gradient + clearer secondary */
[data-theme="light"] .btn{
  background: linear-gradient(180deg, #355df6 0%, #2f4fd8 100%) !important;
  box-shadow: 0 14px 34px rgba(53,93,246,.22) !important;
}
[data-theme="light"] .btn:hover{
  box-shadow: 0 18px 44px rgba(53,93,246,.28) !important;
}
[data-theme="light"] .btn.secondary{
  background: rgba(255,255,255,.92) !important;
  border: 1px solid rgba(230,234,242,.95) !important;
  box-shadow: 0 10px 24px rgba(17,24,39,.06) !important;
}
[data-theme="light"] .btn.secondary:hover{
  box-shadow: 0 14px 34px rgba(17,24,39,.10) !important;
}

/* Tabs: make active state clearer and less boxed */
[data-theme="light"] .tab{
  background: rgba(255,255,255,.92) !important;
  border-color: rgba(230,234,242,.95) !important;
  color: rgba(75,85,99,.95) !important;
}
[data-theme="light"] .tab.active{
  background: rgba(53,93,246,.10) !important;
  border-color: rgba(53,93,246,.30) !important;
  color: #111827 !important;
}

/* KPI boxes: add subtle inner gradient + better number weight */
[data-theme="light"] .kpi .box{
  background: linear-gradient(180deg, #ffffff 0%, #fbfcff 100%) !important;
  border-color: rgba(230,234,242,.95) !important;
  box-shadow: 0 14px 34px rgba(17,24,39,.08) !important;
}
[data-theme="light"] .kpiValue{
  font-weight: 900 !important;
  letter-spacing: .2px;
}

/* Lists (reasons/rules): reduce separators thickness */
[data-theme="light"] .list{
  border-color: rgba(230,234,242,.95) !important;
}
[data-theme="light"] .list .item{
  border-top: 1px solid rgba(230,234,242,.75) !important;
}
[data-theme="light"] .list .item:hover{
  background: rgba(53,93,246,.03) !important;
}

/* Sample strip: less "frame", more clean */
[data-theme="light"] .sampleStrip{
  border-style: solid !important;
  border-color: rgba(230,234,242,.95) !important;
  background: rgba(255,255,255,.85) !important;
  backdrop-filter: blur(10px);
}
[data-theme="light"] .sampleCard{
  box-shadow: 0 10px 24px rgba(17,24,39,.06) !important;
}
[data-theme="light"] .sampleCard:hover{
  box-shadow: 0 14px 34px rgba(17,24,39,.10) !important;
}

/* History: make cards feel clickable */
[data-theme="light"] .hisCard{
  box-shadow: 0 12px 28px rgba(17,24,39,.08) !important;
}
[data-theme="light"] .hisCard:hover{
  box-shadow: 0 18px 44px rgba(17,24,39,.12) !important;
}

/* Viewer: reduce grey fill; keep clean */
[data-theme="light"] .viewerTop{
  background: rgba(255,255,255,.88) !important;
}

/* Toast: a bit stronger */
[data-theme="light"] .toast{
  box-shadow: 0 18px 50px rgba(17,24,39,.14) !important;
}


/* =========================================================
   Light Theme Risk Colors v4 (make LOW/MID/HIGH "right")
   Notes:
   - Light mode needs slightly deeper, cleaner hues (less grey)
   - Unify across: KPI big text, badges, sample corner tags, dots
   ========================================================= */

[data-theme="light"]{
  /* cleaner risk palette */
  --good: #16a34a;   /* emerald-600 */
  --warn: #f59e0b;   /* amber-500 */
  --bad:  #ef4444;   /* red-500   */
}

/* KPI big label (LOW/MID/HIGH) */
[data-theme="light"] .kpiGood,
[data-theme="light"] .kpiGood *{ color:#15803d !important; } /* emerald-700 */
[data-theme="light"] .kpiWarn,
[data-theme="light"] .kpiWarn *{ color:#b45309 !important; } /* amber-700 */
[data-theme="light"] .kpiBad,
[data-theme="light"] .kpiBad *{  color:#b91c1c !important; } /* red-700 */

/* Small risk badges/pills */
[data-theme="light"] .badge.good{
  background:#ecfdf5 !important;
  border-color:#86efac !important;
  color:#15803d !important;
}
[data-theme="light"] .badge.warn{
  background:#fffbeb !important;
  border-color:#fcd34d !important;
  color:#b45309 !important;
}
[data-theme="light"] .badge.bad{
  background:#fef2f2 !important;
  border-color:#fca5a5 !important;
  color:#b91c1c !important;
}

/* PASS/WARN tags (right side) - keep consistent */
[data-theme="light"] .tag.pass,
[data-theme="light"] .tag.PASS,
[data-theme="light"] .passTag{
  background:#ecfdf5 !important;
  border-color:#86efac !important;
  color:#15803d !important;
}
[data-theme="light"] .tag.warn,
[data-theme="light"] .tag.WARN,
[data-theme="light"] .warnTag{
  background:#fffbeb !important;
  border-color:#fcd34d !important;
  color:#b45309 !important;
}
[data-theme="light"] .tag.fail,
[data-theme="light"] .tag.FAIL,
[data-theme="light"] .failTag{
  background:#fef2f2 !important;
  border-color:#fca5a5 !important;
  color:#b91c1c !important;
}

/* Dots in lists */
[data-theme="light"] .dot.good{ background:#22c55e !important; } /* emerald-500 */
[data-theme="light"] .dot.warn{ background:#f59e0b !important; } /* amber-500 */
[data-theme="light"] .dot.bad{  background:#ef4444 !important; } /* red-500 */

/* Sample corner risk tag (LOW/MID/HIGH) */
[data-theme="light"] .sampleTagCorner{
  color:#fff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,.28) !important;
  border: 1px solid rgba(255,255,255,.28) !important;
  box-shadow: 0 10px 26px rgba(17,24,39,.12) !important;
}
[data-theme="light"] .sampleTagCorner.good{
  background: linear-gradient(180deg, #22c55e 0%, #16a34a 100%) !important;
}
[data-theme="light"] .sampleTagCorner.warn{
  background: linear-gradient(180deg, #fbbf24 0%, #f59e0b 100%) !important;
}
[data-theme="light"] .sampleTagCorner.bad{
  background: linear-gradient(180deg, #f87171 0%, #ef4444 100%) !important;
}

/* History risk badge (if it uses .badge inside hisCard) */
[data-theme="light"] .hisCard .badge.good{ background:#ecfdf5 !important; border-color:#86efac !important; color:#15803d !important; }
[data-theme="light"] .hisCard .badge.warn{ background:#fffbeb !important; border-color:#fcd34d !important; color:#b45309 !important; }
[data-theme="light"] .hisCard .badge.bad{  background:#fef2f2 !important; border-color:#fca5a5 !important; color:#b91c1c !important; }


/* =========================================================
   Light Theme Tech Polish v5 (more premium + more "AI/FinTech")
   - subtle aurora background
   - glass topbar + panels
   - gradient borders (very light) + better shadows
   - micro-interactions (hover lift)
   ========================================================= */

/* 0) Slightly cooler canvas + stronger primary glow */
[data-theme="light"]{
  --bg:#f6f8ff;
  --border:#e7ebf5;
  --shadow: 0 18px 60px rgba(17,24,39,.12);
  --primary:#2f5bff;
  --primary2:#2747d8;
}

/* 1) Aurora / tech background (very subtle, non-distracting) */
[data-theme="light"] body{
  background:
    radial-gradient(900px 650px at 12% 6%, rgba(47,91,255,.14) 0%, transparent 62%),
    radial-gradient(780px 520px at 86% 0%, rgba(16,185,129,.10) 0%, transparent 58%),
    radial-gradient(900px 700px at 62% 92%, rgba(236,72,153,.09) 0%, transparent 62%),
    radial-gradient(700px 520px at 18% 92%, rgba(245,158,11,.08) 0%, transparent 60%),
    linear-gradient(180deg, #f6f8ff 0%, #eef2f9 100%) !important;
}

/* 2) Global smoothing: reduce "boxy borders", prefer soft gradient stroke */
[data-theme="light"] .card,
[data-theme="light"] .hisCard,
[data-theme="light"] .sampleStrip,
[data-theme="light"] .viewer,
[data-theme="light"] .list{
  position: relative;
  border: 1px solid rgba(231,235,245,.95) !important;
  box-shadow: 0 18px 54px rgba(17,24,39,.10) !important;
}

/* Soft gradient border illusion (tech look) */
[data-theme="light"] .card::before,
[data-theme="light"] .hisCard::before,
[data-theme="light"] .sampleStrip::before,
[data-theme="light"] .viewer::before,
[data-theme="light"] .list::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;
  padding:1px;
  background: linear-gradient(
    135deg,
    rgba(47,91,255,.20),
    rgba(16,185,129,.14),
    rgba(236,72,153,.12)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity:.55;
}

/* 3) Topbar: glassy premium */
[data-theme="light"] .topbar{
  background: rgba(255,255,255,.62) !important;
  border: 1px solid rgba(231,235,245,.85) !important;
  box-shadow: 0 22px 70px rgba(17,24,39,.12) !important;
  backdrop-filter: blur(16px);
}

/* 4) Card headers: cleaner + slight shine */
[data-theme="light"] .card .hd{
  background: linear-gradient(180deg, rgba(255,255,255,.95) 0%, rgba(251,252,255,.92) 100%) !important;
  border-bottom: 1px solid rgba(231,235,245,.90) !important;
}

/* 5) Buttons: tech gradient + glow on hover */
[data-theme="light"] .btn{
  background: linear-gradient(180deg, var(--primary) 0%, var(--primary2) 100%) !important;
  box-shadow: 0 18px 44px rgba(47,91,255,.22) !important;
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
[data-theme="light"] .btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 26px 68px rgba(47,91,255,.28) !important;
  filter: saturate(1.05);
}
[data-theme="light"] .btn:active{
  transform: translateY(0px);
}

/* Secondary button: glass pill */
[data-theme="light"] .btn.secondary{
  background: rgba(255,255,255,.70) !important;
  border: 1px solid rgba(231,235,245,.95) !important;
  box-shadow: 0 14px 34px rgba(17,24,39,.08) !important;
  backdrop-filter: blur(12px);
  transition: transform .12s ease, box-shadow .12s ease;
}
[data-theme="light"] .btn.secondary:hover{
  transform: translateY(-1px);
  box-shadow: 0 20px 52px rgba(17,24,39,.12) !important;
}

/* 6) Tabs: more "chip" feel */
[data-theme="light"] .tab{
  background: rgba(255,255,255,.72) !important;
  border-color: rgba(231,235,245,.95) !important;
  backdrop-filter: blur(12px);
}
[data-theme="light"] .tab.active{
  background: rgba(47,91,255,.12) !important;
  border-color: rgba(47,91,255,.32) !important;
  box-shadow: 0 10px 24px rgba(47,91,255,.12) !important;
}

/* 7) KPI: more depth */
[data-theme="light"] .kpi .box{
  background: linear-gradient(180deg, rgba(255,255,255,.98) 0%, rgba(250,251,255,.92) 100%) !important;
  box-shadow: 0 18px 50px rgba(17,24,39,.10) !important;
}
[data-theme="light"] .kpiValue{
  text-shadow: 0 10px 28px rgba(17,24,39,.08);
}

/* 8) Lists: nicer hover */
[data-theme="light"] .list .item:hover{
  background: rgba(47,91,255,.04) !important;
}

/* 9) Sample strip + cards: premium */
[data-theme="light"] .sampleStrip{
  background: rgba(255,255,255,.62) !important;
  backdrop-filter: blur(14px);
}
[data-theme="light"] .sampleCard{
  box-shadow: 0 16px 42px rgba(17,24,39,.08) !important;
  transition: transform .12s ease, box-shadow .12s ease;
}
[data-theme="light"] .sampleCard:hover{
  transform: translateY(-1px);
  box-shadow: 0 24px 68px rgba(17,24,39,.12) !important;
}

/* 10) Viewer: lift */
[data-theme="light"] .viewer{
  background: rgba(255,255,255,.78) !important;
  backdrop-filter: blur(10px);
}

/* 11) History cards: clickable */
[data-theme="light"] .hisCard{
  transition: transform .12s ease, box-shadow .12s ease;
}
[data-theme="light"] .hisCard:hover{
  transform: translateY(-1px);
  box-shadow: 0 26px 70px rgba(17,24,39,.14) !important;
}

/* 12) Optional: subtle grain for "tech" texture (very light) */
[data-theme="light"] body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image:
    linear-gradient(0deg, rgba(255,255,255,.00), rgba(255,255,255,.00)),
    repeating-linear-gradient(0deg, rgba(17,24,39,.02) 0 1px, transparent 1px 3px);
  opacity: .06;
  mix-blend-mode: multiply;
}


/* =========================================================
   Light Theme "Ultimate" v6 (polished to the max)
   Priorities:
   - Premium FinTech / AI feel (clean + glass + depth)
   - Reduce heavy separators/boxes, increase airy spacing
   - Harmonize typography + micro-contrast
   - Consistent interaction: hover lift, focus rings
   - Refined risk colors already set in v4
   ========================================================= */

/* 1) Core tokens refinement */
[data-theme="light"]{
  --bg:#f7f9ff;
  --surface: rgba(255,255,255,.68);
  --surface2: rgba(255,255,255,.82);
  --stroke: rgba(231,235,245,.88);
  --stroke2: rgba(231,235,245,.62);
  --text:#0f172a;                 /* slate-900 */
  --muted:#6b7280;                /* keep */
  --muted2:#94a3b8;               /* slate-400 */
  --primary:#2f5bff;
  --primary2:#2447d8;
  --shadowSoft: 0 16px 50px rgba(15,23,42,.10);
  --shadowLift: 0 26px 78px rgba(15,23,42,.14);
  --shadowGlass: 0 18px 70px rgba(15,23,42,.12);
  --radius: 20px;
  --radius2: 16px;
}

/* 2) Background: aurora tuned + cleaner base */
[data-theme="light"] body{
  background:
    radial-gradient(900px 650px at 12% 6%, rgba(47,91,255,.16) 0%, transparent 62%),
    radial-gradient(780px 520px at 86% 0%, rgba(16,185,129,.10) 0%, transparent 60%),
    radial-gradient(900px 700px at 62% 92%, rgba(236,72,153,.10) 0%, transparent 64%),
    radial-gradient(740px 560px at 18% 92%, rgba(245,158,11,.08) 0%, transparent 62%),
    linear-gradient(180deg, #f7f9ff 0%, #eef3fb 100%) !important;
  color: var(--text);
}

/* 3) Typography: slightly crisper headings, better muted */
[data-theme="light"] h1,
[data-theme="light"] h2,
[data-theme="light"] h3,
[data-theme="light"] .title,
[data-theme="light"] .hd b{
  color: var(--text) !important;
  letter-spacing: .1px;
}
[data-theme="light"] .sub,
[data-theme="light"] .muted{
  color: rgba(107,114,128,.96) !important;
}

/* 4) Universal focus ring (keyboard accessibility + premium feel) */
[data-theme="light"] :focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px rgba(47,91,255,.18);
  border-radius: 12px;
}

/* 5) Glass surfaces: topbar + primary panels */
[data-theme="light"] .topbar{
  background: var(--surface) !important;
  border: 1px solid var(--stroke) !important;
  box-shadow: var(--shadowGlass) !important;
  backdrop-filter: blur(18px);
}

/* 6) Cards: unified */
[data-theme="light"] .card,
[data-theme="light"] .viewer,
[data-theme="light"] .sampleStrip,
[data-theme="light"] .list,
[data-theme="light"] .hisCard{
  background: var(--surface2) !important;
  border: 1px solid var(--stroke) !important;
  box-shadow: var(--shadowSoft) !important;
  backdrop-filter: blur(14px);
  transition: transform .14s ease, box-shadow .14s ease, border-color .14s ease, background .14s ease;
}
[data-theme="light"] .card:hover,
[data-theme="light"] .viewer:hover,
[data-theme="light"] .sampleStrip:hover,
[data-theme="light"] .hisCard:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadowLift) !important;
  border-color: rgba(47,91,255,.22) !important;
}

/* 7) Gradient edge highlight: softer + less “framey” */
[data-theme="light"] .card::before,
[data-theme="light"] .hisCard::before,
[data-theme="light"] .sampleStrip::before,
[data-theme="light"] .viewer::before,
[data-theme="light"] .list::before{
  opacity:.42 !important;
}

/* 8) Card header: thinner, cleaner */
[data-theme="light"] .card .hd{
  background: linear-gradient(180deg, rgba(255,255,255,.96) 0%, rgba(252,253,255,.86) 100%) !important;
  border-bottom: 1px solid var(--stroke2) !important;
}
[data-theme="light"] .card .hd .sub{ color: rgba(107,114,128,.95) !important; }

/* 9) Buttons: premium */
[data-theme="light"] .btn{
  background: linear-gradient(180deg, var(--primary) 0%, var(--primary2) 100%) !important;
  box-shadow: 0 18px 44px rgba(47,91,255,.22) !important;
  border: 1px solid rgba(255,255,255,.30) !important;
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
[data-theme="light"] .btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 28px 80px rgba(47,91,255,.26) !important;
  filter: saturate(1.08);
}
[data-theme="light"] .btn.secondary{
  background: rgba(255,255,255,.70) !important;
  border: 1px solid var(--stroke) !important;
  box-shadow: 0 16px 44px rgba(15,23,42,.08) !important;
}
[data-theme="light"] .btn.secondary:hover{
  box-shadow: 0 22px 64px rgba(15,23,42,.12) !important;
}

/* 10) Tabs: chip style, active glow */
[data-theme="light"] .tab{
  background: rgba(255,255,255,.72) !important;
  border: 1px solid var(--stroke) !important;
  color: rgba(75,85,99,.96) !important;
  backdrop-filter: blur(14px);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
}
[data-theme="light"] .tab:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 38px rgba(15,23,42,.10);
}
[data-theme="light"] .tab.active{
  background: rgba(47,91,255,.12) !important;
  border-color: rgba(47,91,255,.32) !important;
  box-shadow: 0 14px 34px rgba(47,91,255,.14) !important;
  color: var(--text) !important;
}

/* 11) KPI: add micro-glow + cleaner boxes */
[data-theme="light"] .kpi .box{
  background: linear-gradient(180deg, rgba(255,255,255,.96) 0%, rgba(250,251,255,.84) 100%) !important;
  border: 1px solid rgba(231,235,245,.92) !important;
  box-shadow: 0 20px 60px rgba(15,23,42,.10) !important;
}
[data-theme="light"] .kpiValue{
  font-weight: 900 !important;
  letter-spacing: .2px;
  text-shadow: 0 14px 40px rgba(15,23,42,.10);
}
/* tech micro-glow for percentages */
[data-theme="light"] .kpiPercent{
  text-shadow: 0 0 18px rgba(47,91,255,.18) !important;
}

/* 12) Lists: less “table”, more “feed” */
[data-theme="light"] .list{
  border-color: rgba(231,235,245,.88) !important;
}
[data-theme="light"] .list .item{
  border-top: 1px solid rgba(231,235,245,.55) !important;
  background: transparent !important;
}
[data-theme="light"] .list .item:hover{
  background: rgba(47,91,255,.035) !important;
}
[data-theme="light"] .list .item code{
  background: rgba(47,91,255,.08) !important;
  border: 1px solid rgba(47,91,255,.22) !important;
  color: rgba(15,23,42,.92) !important;
  border-radius: 10px;
}

/* 13) Sample strip: cleaner container + nicer scrollbar */
[data-theme="light"] .sampleStrip{
  background: rgba(255,255,255,.66) !important;
}
[data-theme="light"] .sampleStripList::-webkit-scrollbar-thumb{
  background: rgba(15,23,42,.14) !important;
  border-color: rgba(231,235,245,.70) !important;
}
[data-theme="light"] .sampleCard{
  background: rgba(255,255,255,.84) !important;
}

/* 14) Viewer: keep image canvas clean (avoid grey) */
[data-theme="light"] .canvasWrap{
  background: rgba(255,255,255,.88) !important;
  border-color: rgba(231,235,245,.80) !important;
}
/* heatmap overlay: keep multiply for light */
[data-theme="light"] .canvasWrap img.overlay{
  opacity:.78 !important;
}

/* 15) Upload area: make it “product-grade” */
[data-theme="light"] .upload{
  background: rgba(255,255,255,.70) !important;
  border: 1px dashed rgba(47,91,255,.28) !important;
}
[data-theme="light"] .upload.drag{
  background: rgba(47,91,255,.06) !important;
  border-color: rgba(47,91,255,.50) !important;
}

/* 16) Toast: clearer */
[data-theme="light"] .toast{
  background: rgba(255,255,255,.78) !important;
  border: 1px solid rgba(231,235,245,.86) !important;
  box-shadow: 0 22px 70px rgba(15,23,42,.16) !important;
  backdrop-filter: blur(18px);
}

/* 17) Subtle animation for interactive elements */
@media (prefers-reduced-motion: no-preference){
  [data-theme="light"] .btn,
  [data-theme="light"] .tab,
  [data-theme="light"] .card,
  [data-theme="light"] .hisCard,
  [data-theme="light"] .sampleCard{
    will-change: transform, box-shadow;
  }
}


/* =========================================================
   Design Tokens: Unified Scrollbar (Dark / Light)
   - All scrollbar colors are driven by CSS variables
   - Add more scroll containers to the selector list if needed
   ========================================================= */

/* Theme variables (can be merged with your existing theme blocks) */
[data-theme="dark"]{
  --scroll-thumb: rgba(122,162,255,.35);
  --scroll-thumb-hover: rgba(122,162,255,.55);
  --scroll-border: rgba(122,162,255,.25);
  --scroll-track: transparent;
}

[data-theme="light"]{
  --scroll-thumb: rgba(15,23,42,.14);
  --scroll-thumb-hover: rgba(15,23,42,.22);
  --scroll-border: rgba(231,235,245,.70);
  --scroll-track: transparent;
}

/* =========================================================
   Unified Scrollbar Styles
   NOTE: WebKit-based (Chrome/Edge/Safari). Firefox uses scrollbar-color.
   ========================================================= */

/* width */
.sampleStripList::-webkit-scrollbar,
.historyCards::-webkit-scrollbar,
.viewer::-webkit-scrollbar{
  width: 8px;
  height: 8px;
}

/* track */
.sampleStripList::-webkit-scrollbar-track,
.historyCards::-webkit-scrollbar-track,
.viewer::-webkit-scrollbar-track{
  background: var(--scroll-track);
}

/* thumb */
.sampleStripList::-webkit-scrollbar-thumb,
.historyCards::-webkit-scrollbar-thumb,
.viewer::-webkit-scrollbar-thumb{
  background: var(--scroll-thumb);
  border: 1px solid var(--scroll-border);
  border-radius: 999px;
}

/* hover */
.sampleStripList::-webkit-scrollbar-thumb:hover,
.historyCards::-webkit-scrollbar-thumb:hover,
.viewer::-webkit-scrollbar-thumb:hover{
  background: var(--scroll-thumb-hover);
}

/* Firefox */
.sampleStripList,
.historyCards,
.viewer{
  scrollbar-width: thin;
  scrollbar-color: var(--scroll-thumb) var(--scroll-track);
}
